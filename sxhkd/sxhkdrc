#
# bspwm hotkeys
#

super + ctrl + q
    pkill -f laptop.py *> /dev/null; bspc quit

super + z
    bspc node -c

# max
super + t
    bspc desktop -l next

# balance
super + b
    bspc node @/ -B

# float/fullscreen
super + {ctrl+f,ctrl+shift+f}
    bspc node -t "~"{floating,fullscreen}

# Jump to last in history
super + {_, shift+}Tab
    bspc {node,desktop} -f last

# switch with last
super +  apostrophe
    bspc node -s last

# move to manual
super +  y
    bspc node -n 'last.!automatic'

# swap with biggest
super + semicolon
    bspc node -s biggest

# move around
super + {_,shift + }{h,j,k,l}
    bspc node -{f,s} {west,south,north,east}.local

# move in cycle
alt + {_,shift + }Tab
    bspc node -f {next,prev}.local

# swap in cycle
super + {_,shift + }m
    bspc node @/ -C {forward,backward}

# rotate the desktop
super + {_,shift + }comma
    bspc node @/ -R {90,270}

# prev/nex desktop
super + ctrl + {o,i}
    bspc desktop -f {prev,next}

# preselection
super + ctrl + {h,j,k,l}
    bspc node -p {west,south,north,east}

# cancel preselection
super + ctrl + space
    bspc node -p cancel

# preselect an entier desktop
super + ctrl + alt + {a,s,d,f,u,i,o,p,7,8,9,0,minus}
    bspc rule -a \* -o desktop={a,s,d,f,u,i,o,p,7,8,9,0,')'}

# cancel all preselections in the desktop
super + ctrl + shift + space
    bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

# resize
alt + super + {h,j,k,l}
    bspc node {@west -r -20, @north -r +20, @north -r -20, @west -r +20}

# resize
alt + super + shift + {h,j,k,l}
    bspc node {@east -r -20, @south -r +20, @south -r -20, @east -r +20}

# set ratio  FIND NEW
super + ctrl + {1-9}
    bspc node -o 0.{1-9}

# move to desktop
super + {a,s,d,f,u,i,o,p,7,8,9,0,minus}
    Dt=$(bspc query -D -d {a,s,d,f,u,i,o,p,7,8,9,0,')'}); \
    Mc=$(bspc query -M -m); \
    Mt=$(bspc query -M -d "$Dt"); \
    if [ "$Mt" != "$Mc" ]; \
        then Dc=$(bspc query -D -d); \
        Dft=$(bspc query -d "$Mt":focused -D); \
        if [ "$Dft" = "$Dt" ]; \
            then bspc desktop "$Dt" -s "$Dc"; \
        else; \
            bspc desktop "$Dt" -m "$Mc"; \
            bspc desktop -f "$Dt"; \
        fi; \
    else; \
        bspc desktop -f "$Dt"; \
    fi

# move window to desktop
super + shift + {a,s,d,f,u,i,o,p,7,8,9,0,minus}
    bspc node -d {a,s,d,f,u,i,o,p,7,8,9,0,")"}

# move to screen
super + {q,w,e}
    bspc monitor -f {^1,^2,^3}

# move window to screen
super + shift + {q,w,e}
    bspc node -m {^1,^2,^3}

# Volume Keys
XF86AudioMute
    pamixer -t
super + F1
    pamixer -t
XF86AudioRaiseVolume
    pamixer -i 5
super + F3
    pamixer -i 5
XF86AudioLowerVolume
    pamixer -d 5
super + F2
    pamixer -d 5
XF86AudioRaiseVolume + shift
    pamixer -i 1
super + shift + F3
    pamixer -i 1
XF86AudioLowerVolume + shift
    pamixer -d 1
super + shift + F2
    pamixer -d 1

# Backlight
XF86MonBrightnessUp
    light -A 10
shift + XF86MonBrightnessUp
    light -A 1
XF86MonBrightnessDown
    light -U 10
shift + XF86MonBrightnessDown
    light -U 1

# Media Keys
XF86AudioPrev
    mpc prev
super + F5
    mpc prev
XF86AudioPlay
    mpc toggle
super + F4
    mpc toggle
XF86AudioNext
    mpc next
super + F6
    mpc next

#
# wm independent hotkeys
#

super + Return
    WINIT_HIDPI_FACTOR=1.15 WINIT_X11_SCALE_FACTOR=1.15 alacritty

super + r
    rofi -modi run,drun -show drun

super + ctrl + p
    clerk -t

super + ctrl + shift + l
    light-locker-command -l

# make sxhkd reload its configuration files:
super + shift + ctrl + Escape
    pkill -USR1 -x sxhkd

alt + z
    firefox-beta

alt + x
    thunderbird

alt + s
    /home/anthony/git/github/tdrop/tdrop -a -m -w '86%' -h '86%' -y 21 -x '7%' --class signal -n signal flatpak run org.signal.Signal

alt + d
    /home/anthony/git/github/tdrop/tdrop -a -m -w '86%' -h '86%' -y 21 -x '7%' --class "telegram-desktop" -n telegram flatpak run org.telegram.desktop
